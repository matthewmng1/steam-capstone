{"ast":null,"code":"import _regeneratorRuntime from\"/Users/matthewng/Desktop/springboard/Capstones/Capstone-2/steam-capstone/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/matthewng/Desktop/springboard/Capstones/Capstone-2/steam-capstone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/matthewng/Desktop/springboard/Capstones/Capstone-2/steam-capstone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import SteamDbApi from\"../api/api\";import UserContext from\"../auth/UserContext\";import DashboardCard from\"./DashboardCard\";import\"./Dashboard.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Dashboard(){var _useContext=useContext(UserContext),currentUser=_useContext.currentUser;var username=currentUser.username;var userid=currentUser.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),appData=_useState2[0],setAppData=_useState2[1];useEffect(function(){function getDashApps(_x){return _getDashApps.apply(this,arguments);}function _getDashApps(){_getDashApps=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(userid){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return SteamDbApi.getDashboardApps(userid);case 3:res=_context.sent;setAppData(res.apps);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);throw new Error(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return _getDashApps.apply(this,arguments);}getDashApps(userid);},[userid]);console.log(appData);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[username,\"'s Dashboard\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"dashboard-grid\",children:appData.map(function(a){return/*#__PURE__*/_jsx(DashboardCard,{url:a.url,name:a.name,backgroundUrl:a.backgroundimageurl},a.ids);})})]});}export default Dashboard;","map":{"version":3,"names":["React","useContext","useEffect","useState","SteamDbApi","UserContext","DashboardCard","jsxs","_jsxs","jsx","_jsx","Dashboard","_useContext","currentUser","username","userid","id","_useState","_useState2","_slicedToArray","appData","setAppData","getDashApps","_x","_getDashApps","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","getDashboardApps","sent","apps","t0","Error","stop","console","log","className","children","map","a","url","name","backgroundUrl","backgroundimageurl","ids"],"sources":["/Users/matthewng/Desktop/springboard/Capstones/Capstone-2/steam-capstone/src/userDashboard/Dashboard.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport SteamDbApi from \"../api/api\";\nimport UserContext from \"../auth/UserContext\";\nimport DashboardCard from \"./DashboardCard\";\nimport \"./Dashboard.css\"\n\nfunction Dashboard() {\n  const { currentUser } = useContext(UserContext);\n  const username = currentUser.username;\n  const userid = currentUser.id;\n\n  const [appData, setAppData] = useState([]);\n\n  useEffect(() => {\n    async function getDashApps(userid) {\n      try {\n        const res = await SteamDbApi.getDashboardApps(userid);\n        setAppData(res.apps)\n      } catch (e) {\n        throw new Error(e);\n      }\n    }\n\n    getDashApps(userid);\n  }, [userid]);\n\n  console.log(appData); \n\n  return (\n    <div className=\"dashboard\">\n      <h1>{username}'s Dashboard</h1>\n      <ul className=\"dashboard-grid\">\n        {appData.map((a) => (\n          <DashboardCard\n            key={a.ids}\n            url={a.url}\n            name={a.name}\n            backgroundUrl={a.backgroundimageurl}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Dashboard;"],"mappings":"0eAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAO,CAAAC,UAAU,KAAM,YAAY,CACnC,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,iBAAiB,QAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAExB,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,IAAAC,WAAA,CAAwBX,UAAU,CAACI,WAAW,CAAC,CAAvCQ,WAAW,CAAAD,WAAA,CAAXC,WAAW,CACnB,GAAM,CAAAC,QAAQ,CAAGD,WAAW,CAACC,QAAQ,CACrC,GAAM,CAAAC,MAAM,CAAGF,WAAW,CAACG,EAAE,CAE7B,IAAAC,SAAA,CAA8Bd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1BhB,SAAS,CAAC,UAAM,SACC,CAAAoB,WAAWA,CAAAC,EAAA,SAAAC,YAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,aAAA,EAAAA,YAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA1B,SAAAC,QAA2Bf,MAAM,MAAAgB,GAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEX,CAAAhC,UAAU,CAACiC,gBAAgB,CAACtB,MAAM,CAAC,QAA/CgB,GAAG,CAAAG,QAAA,CAAAI,IAAA,CACTjB,UAAU,CAACU,GAAG,CAACQ,IAAI,CAAC,CAAAL,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAM,EAAA,CAAAN,QAAA,kBAEd,IAAI,CAAAO,KAAK,CAAAP,QAAA,CAAAM,EAAE,CAAC,0BAAAN,QAAA,CAAAQ,IAAA,MAAAZ,OAAA,gBAErB,UAAAN,YAAA,CAAAC,KAAA,MAAAC,SAAA,GAEDJ,WAAW,CAACP,MAAM,CAAC,CACrB,CAAC,CAAE,CAACA,MAAM,CAAC,CAAC,CAEZ4B,OAAO,CAACC,GAAG,CAACxB,OAAO,CAAC,CAEpB,mBACEZ,KAAA,QAAKqC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBtC,KAAA,OAAAsC,QAAA,EAAKhC,QAAQ,CAAC,cAAY,EAAI,CAAC,cAC/BJ,IAAA,OAAImC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC3B1B,OAAO,CAAC2B,GAAG,CAAC,SAACC,CAAC,qBACbtC,IAAA,CAACJ,aAAa,EAEZ2C,GAAG,CAAED,CAAC,CAACC,GAAI,CACXC,IAAI,CAAEF,CAAC,CAACE,IAAK,CACbC,aAAa,CAAEH,CAAC,CAACI,kBAAmB,EAH/BJ,CAAC,CAACK,GAIR,CAAC,EACH,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAEA,cAAe,CAAA1C,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}