{"ast":null,"code":"import _defineProperty from\"/Users/matthewng/Desktop/springboard/Capstones/Capstone-2/steam-capstone/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/matthewng/Desktop/springboard/Capstones/Capstone-2/steam-capstone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/matthewng/Desktop/springboard/Capstones/Capstone-2/steam-capstone/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/matthewng/Desktop/springboard/Capstones/Capstone-2/steam-capstone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/matthewng/Desktop/springboard/Capstones/Capstone-2/steam-capstone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom/\";import\"./Form.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginForm(_ref){var login=_ref.login;var navigate=useNavigate();var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];console.debug(\"LoginForm\",\"login=\",typeof login,\"formData=\",formData,\"formErrors\",formErrors);function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return login(formData);case 3:result=_context.sent;if(result.success){navigate(\"/\");}else{setFormErrors(result.errors);}case 5:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}function handleChange(_x2){return _handleChange.apply(this,arguments);}function _handleChange(){_handleChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var _e$target,name,value;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(function(data){return _objectSpread(_objectSpread({},data),{},_defineProperty({},name,value));});case 2:case\"end\":return _context2.stop();}},_callee2);}));return _handleChange.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Log In\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",className:\"form-control\",value:formData.username,onChange:handleChange,autoComplete:\"username\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",value:formData.password,onChange:handleChange,autoComplete:\"current-password\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group button-group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary float-right\",onSubmit:handleSubmit,children:\"Submit\"})})]})})]})});}export default LoginForm;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","login","navigate","_useState","username","password","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","formErrors","setFormErrors","console","debug","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","result","wrap","_callee$","_context","prev","next","preventDefault","sent","success","errors","stop","handleChange","_x2","_handleChange","_callee2","_e$target","name","value","_callee2$","_context2","target","data","_objectSpread","_defineProperty","className","children","onSubmit","onChange","autoComplete","required","type"],"sources":["/Users/matthewng/Desktop/springboard/Capstones/Capstone-2/steam-capstone/src/forms/LoginForm.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport { useNavigate } from \"react-router-dom/\";\nimport \"./Form.css\"\n\n\nfunction LoginForm({ login }) {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n  })\n  const [formErrors, setFormErrors] = useState([])\n\n  console.debug(\n    \"LoginForm\",\n    \"login=\", typeof login,\n    \"formData=\", formData,\n    \"formErrors\", formErrors,\n  );\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    let result = await login(formData);\n    if (result.success) {\n      navigate(\"/\");\n    } else {\n      setFormErrors(result.errors);\n    }\n  }\n\n  async function handleChange(e) {\n    const { name, value } = e.target;\n    setFormData(data => ({ ...data, [name]: value }));\n  }\n\n  return (\n      <div className=\"form\">\n        <div className=\"form-card\">\n        <h3>Log In</h3>\n          <div className=\"form-card-body\">\n            \n            <form onSubmit={handleSubmit}>\n              <div className=\"form-group\">\n                <label>Username</label>\n                <input\n                    name=\"username\"\n                    className=\"form-control\"\n                    value={formData.username}\n                    onChange={handleChange}\n                    autoComplete=\"username\"\n                    required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Password</label>\n                <input\n                    type=\"password\"\n                    name=\"password\"\n                    className=\"form-control\"\n                    value={formData.password}\n                    onChange={handleChange}\n                    autoComplete=\"current-password\"\n                    required\n                />\n              </div>\n\n              {/* {formErrors.length ? <Alert type=\"danger\" messages={formErrors} /> : null} */}\n\n              <div className=\"form-group button-group\">\n                <button\n                    className=\"btn btn-primary float-right\"\n                    onSubmit={handleSubmit}\n                >\n                  Submit\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n  );\n}\n\nexport default LoginForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}